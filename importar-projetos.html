<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Importar Projetos - Sistema de Usinagem</title>
    <link rel="shortcut icon" type="imagex/png" href="images/logo-navegador.jpeg">
    <link rel="stylesheet" href="css/style-home.css">
    <link rel="stylesheet" href="css/style-importar-projetos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="scripts/user-info.js"></script>
    <script src="scripts/chatbot-global.js"></script>
    <script src="scripts/importar-projetos.js"></script>
</head>
<body>
    <header class="main-header">
        <div class="header-left">
            <img src="images/logo-navegador-semfundo.png" alt="Logo Simoldes" class="logo-star">
            <div class="user-info">
                <p class="user-name" id="userName">Nome Usuário</p>
                <p class="user-role" id="userRole">Administrador</p>
            </div>
        </div>
        <div class="header-center">
            <h1>Sistema de Usinagem</h1>
        </div>
        <div class="header-right">
            <a href="login-page.html"><button id="logoutBtn" class="exit-button">SAIR <i class="fas fa-sign-out-alt icon-exit"></i></button></a>
        </div>
    </header>
    <div class="content-container">
        <aside class="sidebar">
            <ul>
                <li><a href="index.html"><i class="fas fa-home"></i> Início</a></li>
                <li><a href="projetos.html"><i class="fas fa-folder-open"></i> Projetos</a></li>
                <li><a href="historico.html"><i class="fas fa-history"></i> Histórico</a></li>
                <li id="importarProjetosMenu"><a href="importar-projetos.html" id="importarProjetosLink" class="active"><i class="fas fa-file-import"></i> Importar Projetos</a></li>
                <li><a href="admin.html"><i class="fas fa-users-cog"></i> Administração</a></li>
            </ul>
        </aside>
        <main>
            <div class="dashboard-content">
                <div class="page-header">
                    <h1 class="import-title">Importar Projetos</h1>
                </div>
                <div class="tabs-container">
                    <div class="tabs">
                        <button class="tab-button active" data-tab="manual">Entrada Manual</button>
                        <button class="tab-button" data-tab="arquivo">Importar via Arquivo</button>
                        <button class="tab-button" data-tab="programas">Inserir novos Programas</button>
                    </div>
                    
                    <div class="tab-content">
                        <!-- Aba de Entrada Manual -->
                        <div id="manual" class="tab-pane active">
                            <form id="manualForm" class="manual-form">
                                <div class="form-section">
                                    <h3>Informações Básicas</h3>
                                    <div class="form-group">
                                        <label for="materialValue">Material:</label>
                                        <input type="text" id="materialValue" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="programPath">Pasta do Programa:</label>
                                        <input type="text" id="programPath" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="programmerName">Nome do Programador:</label>
                                        <input type="text" id="programmerName" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="estimatedTime">Tempo Previsto:</label>
                                        <input type="time" id="estimatedTime" required>
                                    </div>
                                </div>

                                <div class="form-section">
                                    <h3>Detalhes do Programa</h3>
                                    <div class="form-group">
                                        <label for="programNumber">Número do Programa:</label>
                                        <input type="text" id="programNumber" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="programStatus">Status:</label>
                                        <select id="programStatus" required>
                                            <option value="pending">Pendente</option>
                                            <option value="in_progress">Em Andamento</option>
                                            <option value="completed">Concluído</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="programmerComments">Comentários do Programador:</label>
                                        <textarea id="programmerComments" required></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="pathType">Tipo de Percurso:</label>
                                        <input type="text" id="pathType" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="reference">Referência:</label>
                                        <input type="text" id="reference" required>
                                    </div>
                                </div>

                                <div class="form-section">
                                    <h3>Ferramentas</h3>
                                    <div class="tools-grid">
                                        <div class="form-group">
                                            <label for="toolDiameter">Ferramenta: Ø</label>
                                            <input type="number" id="toolDiameter" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="toolRC">Ferramenta: RC</label>
                                            <input type="number" id="toolRC" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="toolBib">Ferramenta: Bib.</label>
                                            <input type="number" id="toolBib" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="toolAlt">Ferramenta: Alt.</label>
                                            <input type="number" id="toolAlt" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="zMin">Z Min.</label>
                                            <input type="number" id="zMin" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="lat3D">Sob.Esp. Lat.3D</label>
                                            <input type="number" id="lat3D" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="lat">Sob.Esp. Lat</label>
                                            <input type="number" id="lat" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="vert">Sob.Esp. Vert.</label>
                                            <input type="number" id="vert" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="latStep">Passo: Lat.</label>
                                            <input type="number" id="latStep" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="vertStep">Passo: Vert.</label>
                                            <input type="number" id="vertStep" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="tolerance">Tol.</label>
                                            <input type="number" step="0.01" id="tolerance" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="rotation">Rot.</label>
                                            <input type="number" id="rotation" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="advance">Av</label>
                                            <input type="number" id="advance" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="angle">Ângulo</label>
                                            <input type="text" id="angle" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="workPlane">Plano Trab.</label>
                                            <input type="text" id="workPlane" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-section">
                                    <h3>Arquivos do Programa</h3>
                                    <div class="form-group">
                                        <label for="fresaFile">Fresa:</label>
                                        <input type="text" id="fresaFile" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="subFile">Sub:</label>
                                        <input type="text" id="subFile" required>
                                    </div>
                                </div>

                                <button type="submit" class="submit-button">Salvar Projeto</button>
                            </form>
                        </div>

                        <!-- Aba de Importação via Arquivo -->
                        <div id="arquivo" class="tab-pane">
                            <form id="importarExcelForm">
                                <div class="file-import-section">
                                    <div class="file-type-selector">
                                        <label>
                                            <input type="radio" name="fileType" value="pdf" checked> PDF (.pdf)
                                        </label>
                                    </div>
                                    <input type="file" id="fileInput" accept=".pdf" required />
                                    <button type="submit">Pré-visualizar</button>
                                </div>
                                <div id="previewContainer"></div>
                                <button id="importarBtn" class="import-button">Importar Dados</button>
                            </form>
                        </div>

                        <!-- Aba de Inserir Programas -->
                        <div id="programas" class="tab-pane">
                            <!-- Seleção do Projeto -->
                            <form id="selecionarProjetoForm">
                                <div class="form-section">
                                    <h3>Selecionar Projeto</h3>
                                    <div class="form-group">
                                        <label for="projectNumber">Número do Projeto:</label>
                                        <input type="text" id="projectNumber" required>
                                        <button type="button" id="buscarProjetoBtn">Buscar Projeto</button>
                                    </div>
                                    <div id="projetoInfoContainer">
                                        <!-- Informações do projeto selecionado aparecem aqui -->
                                    </div>
                                </div>
                            </form>

                            <!-- Opções de Inserção -->
                            <div id="opcoesInsercao" style="display:none; margin-top: 20px;">
                                <h3>Como deseja inserir o novo programa?</h3>
                                <button type="button" id="btnManual">Inserir Manualmente</button>
                                <button type="button" id="btnArquivo">Importar de Arquivo (PDF)</button>
                            </div>

                            <!-- Formulário Manual -->
                            <form id="adicionarProgramaForm" style="display:none;">
                                <div class="form-section">
                                    <h3>Informações do Novo Programa</h3>
                                    <div class="form-group">
                                        <label for="novoProgramNumber">Número do Programa:</label>
                                        <input type="text" id="novoProgramNumber" required>
                                    </div>
                                    <!-- Outros campos do programa -->
                                </div>
                                <div class="form-section">
                                    <h3>Ferramentas</h3>
                                    <div class="tools-grid">
                                        <div class="form-group">
                                            <label for="novoToolDiameter">Ferramenta: Ø</label>
                                            <input type="number" id="novoToolDiameter" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoToolRC">Ferramenta: RC</label>
                                            <input type="number" id="novoToolRC" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoToolBib">Ferramenta: Bib.</label>
                                            <input type="number" id="novoToolBib" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoToolAlt">Ferramenta: Alt.</label>
                                            <input type="number" id="novoToolAlt" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoZMin">Z Min.</label>
                                            <input type="number" id="novoZMin" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoLat3D">Sob.Esp. Lat.3D</label>
                                            <input type="number" id="novoLat3D" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoLat">Sob.Esp. Lat</label>
                                            <input type="number" id="novoLat" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoVert">Sob.Esp. Vert.</label>
                                            <input type="number" id="novoVert" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoLatStep">Passo: Lat.</label>
                                            <input type="number" id="novoLatStep" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoVertStep">Passo: Vert.</label>
                                            <input type="number" id="novoVertStep" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoTolerance">Tol.</label>
                                            <input type="number" step="0.01" id="novoTolerance" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoRotation">Rot.</label>
                                            <input type="number" id="novoRotation" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoAdvance">Av</label>
                                            <input type="number" id="novoAdvance" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoAngle">Ângulo</label>
                                            <input type="text" id="novoAngle" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="novoWorkPlane">Plano Trab.</label>
                                            <input type="text" id="novoWorkPlane" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-section">
                                    <h3>Arquivos do Programa</h3>
                                    <div class="form-group">
                                        <label for="novoFresaFile">Fresa:</label>
                                        <input type="text" id="novoFresaFile" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="novoSubFile">Sub:</label>
                                        <input type="text" id="novoSubFile" required>
                                    </div>
                                </div>
                                <button type="submit" class="submit-button">Adicionar Programa ao Projeto</button>
                            </form>

                            <!-- Formulário de Importação -->
                            <form id="importarProgramaArquivoForm" style="display:none;">
                                <div class="form-section">
                                    <h3>Importar Programa via Arquivo</h3>
                                    <div class="file-type-selector">
                                        <label>
                                            <input type="radio" name="fileType" value="pdf" checked> PDF (.pdf)
                                        </label>
                                    </div>
                                    <input type="file" id="fileInput" accept=".pdf" required />
                                    <button type="submit">Pré-visualizar</button>
                                </div>
                                <div id="previewContainer"></div>
                                <button id="importarBtn" class="import-button">Importar Programa</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <footer>
        <p>© 2025 Simoldes Aços Brasil. Todos os direitos reservados.</p>
    </footer>
    <!-- Modal de Alerta Customizado -->
    <div id="customAlertModal" class="custom-alert-modal" style="display:none;">
        <div class="custom-alert-content">
            <span id="customAlertMessage"></span>
            <button id="customAlertOkBtn">OK</button>
        </div>
    </div>
</body>
</html>
