<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histórico - Sistema de Usinagem</title>
    <link rel="shortcut icon" type="imagex/png" href="images/logo-navegador.jpeg">
    <link rel="stylesheet" href="css/style-home.css">
    <link rel="stylesheet" href="css/style-historico.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Adicionar o script de informações do usuário primeiro -->
    <script src="scripts/user-info.js"></script>
</head>
<body>
    <header class="main-header">
        <div class="header-left">
            <img src="images/logo-navegador-semfundo.png" alt="Logo Simoldes" class="logo-star">
            <div class="user-info">
                <p class="user-name" id="userName">Nome Usuário</p>
                <p class="user-role" id="userRole">Operador</p>
            </div>
        </div>
        
        <div class="header-center">
            <h1>Sistema de Usinagem</h1>
        </div>
        
        <div class="header-right">
            <a href="login-page.html"><button id="logoutBtn" class="exit-button">SAIR <i class="fas fa-sign-out-alt icon-exit"></i></button></a>
        </div>
    </header>
    
    <div class="content-container">
        <aside class="sidebar">
            <ul>
                <li><a href="index.html"><i class="fas fa-home"></i> Início</a></li>
                <li><a href="projetos.html"><i class="fas fa-folder-open"></i> Projetos</a></li>
                <li><a href="historico.html" class="active"><i class="fas fa-history"></i> Histórico</a></li>
                <!-- O item de administração será adicionado via JavaScript se o usuário for admin -->
            </ul>
        </aside>
        
        <main>
            <div class="dashboard-content">
                <div class="page-header">
                    <h1>Histórico de Projetos</h1>
                </div>
                
                <div class="filter-section">
                    <div class="search-container">
                        <input type="text" id="historicoSearch" placeholder="Buscar no histórico..." aria-label="Buscar no histórico">
                        <button id="searchBtn" aria-label="Buscar"><i class="fas fa-search"></i></button>
                    </div>
                    
                    <div class="filter-options">
                        <select id="dateFilter" aria-label="Filtrar por data">
                            <option value="all">Todas as datas</option>
                            <option value="today">Hoje</option>
                            <option value="week">Esta semana</option>
                            <option value="month">Este mês</option>
                            <option value="year">Este ano</option>
                        </select>
                        
                        <select id="machineFilter" aria-label="Filtrar por máquina">
                            <option value="all">Todas as máquinas</option>
                            <option value="m1">Máquina 1</option>
                            <option value="m2">Máquina 2</option>
                            <option value="m3">Máquina 3</option>
                        </select>
                    </div>
                </div>
                
                <div class="historico-list" id="historicoContainer">
                    <!-- Projetos históricos serão inseridos aqui via JavaScript -->
                    <div class="projeto-card">
                        <div class="projeto-header">
                            <h3 class="projeto-title">Molde para Painel Frontal</h3>
                            <span class="projeto-code">PF-2023-001</span>
                        </div>
                        <div class="projeto-details">
                            <div class="detail-item">
                                <i class="fas fa-cog"></i>
                                <span>Máquina: <strong>M1-2023</strong></span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-user"></i>
                                <span>Responsável: <strong>Carlos Silva</strong></span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-calendar-check"></i>
                                <span>Concluído em: <strong>15/08/2023</strong></span>
                            </div>
                        </div>
                        <div class="projeto-footer">
                            <span class="status-badge status-completed">Concluído</span>
                            <button class="view-details-btn">Ver Detalhes</button>
                        </div>
                    </div>
                    
                    <div class="projeto-card">
                        <div class="projeto-header">
                            <h3 class="projeto-title">Molde para Carcaça de Motor</h3>
                            <span class="projeto-code">CM-2023-042</span>
                        </div>
                        <div class="projeto-details">
                            <div class="detail-item">
                                <i class="fas fa-cog"></i>
                                <span>Máquina: <strong>M2-2023</strong></span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-user"></i>
                                <span>Responsável: <strong>Ana Oliveira</strong></span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-calendar-check"></i>
                                <span>Concluído em: <strong>20/07/2023</strong></span>
                            </div>
                        </div>
                        <div class="projeto-footer">
                            <span class="status-badge status-completed">Concluído</span>
                            <button class="view-details-btn">Ver Detalhes</button>
                        </div>
                    </div>
                </div>
                
                <div class="pagination">
                    <button class="pagination-btn" id="prevPage"><i class="fas fa-chevron-left"></i></button>
                    <span class="pagination-info">Página <span id="currentPage">1</span> de <span id="totalPages">1</span></span>
                    <button class="pagination-btn" id="nextPage"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </main>
    </div>

    <footer>
        <p>© 2025 Simoldes Aços Brasil. Todos os direitos reservados.</p>
    </footer>

    <!-- Adicione os scripts -->
    <script src="scripts/chatbot-global.js"></script>
    <!-- Carregar os dados do histórico -->
    <script src="scripts/historico-data.js"></script>
    <!-- Carregar o script de histórico depois do user-info.js -->
    <script src="scripts/historico.js"></script>
</body>
</html>
